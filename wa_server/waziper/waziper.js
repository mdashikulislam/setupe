var _0x10b7bd=_0x3358;(function(_0x38a1b8,_0x265378){var _0x5d4ada=_0x3358,_0x5dc7c1=_0x38a1b8();while(!![]){try{var _0x484d11=-parseInt(_0x5d4ada(0x1cf))/0x1*(parseInt(_0x5d4ada(0x1f8))/0x2)+parseInt(_0x5d4ada(0x1ad))/0x3+-parseInt(_0x5d4ada(0x25c))/0x4+-parseInt(_0x5d4ada(0x1c6))/0x5+-parseInt(_0x5d4ada(0x25a))/0x6+-parseInt(_0x5d4ada(0x23e))/0x7+parseInt(_0x5d4ada(0x1d6))/0x8;if(_0x484d11===_0x265378)break;else _0x5dc7c1['push'](_0x5dc7c1['shift']());}catch(_0x17d52e){_0x5dc7c1['push'](_0x5dc7c1['shift']());}}}(_0x3a1d,0xda79f));function _0x3358(_0x15971f,_0x138997){var _0x3a1d6c=_0x3a1d();return _0x3358=function(_0x335847,_0x49c9c8){_0x335847=_0x335847-0x164;var _0x2f5d93=_0x3a1d6c[_0x335847];return _0x2f5d93;},_0x3358(_0x15971f,_0x138997);}var levelconfig={};const fs=require('fs'),http=require('http'),qrimg=require('qr-image'),express=require(_0x10b7bd(0x24e)),rimraf=require('rimraf'),moment=require(_0x10b7bd(0x172)),bodyParser=require(_0x10b7bd(0x1b3)),publicIp=require('ip'),cors=require(_0x10b7bd(0x203)),spintax=require(_0x10b7bd(0x1f4)),Boom=require(_0x10b7bd(0x1b1)),P=require(_0x10b7bd(0x22b)),app=express(),axios=require(_0x10b7bd(0x1d5)),server=http['createServer'](app),{Server}=require(_0x10b7bd(0x199)),config=require(_0x10b7bd(0x16e)),Common=require(_0x10b7bd(0x192)),Extend=require(_0x10b7bd(0x167)),bulks={},total_contacts={},chatbots={},limit_messages={},stats_history={},sessions={},new_sessions={},session_dir=__dirname+_0x10b7bd(0x236);let verify_next=0x0,verify_response=![],verified=![],chatbot_delay=0x3e8,wa_version='';const io=new Server(server,{'cors':{'origin':config['frontend']}});app[_0x10b7bd(0x229)](bodyParser[_0x10b7bd(0x1dc)]({'extended':!![],'limit':'50mb'})),io['on'](_0x10b7bd(0x218),()=>{var _0x5584ce=_0x10b7bd;console['log'](_0x5584ce(0x270));});function _0x3a1d(){var _0x3ee968=['Respuesta\x20de\x20license_verified:','The\x20number\x20of\x20messages\x20you\x20have\x20sent\x20per\x20month\x20has\x20exceeded\x20the\x20maximum\x20limit','ext2mime','moment-timezone','quickReplyButton','groups.update','listResponseMessage','size','db_delete','SELECT\x20owner\x20FROM\x20sp_team\x20WHERE\x20id\x20=\x20\x27','The\x20system\x20cannot\x20generate\x20a\x20WhatsApp\x20QR\x20code','session','address','imageMessage','json','CIPHERTEXT','sp_team','SHOW\x20TABLES\x20LIKE\x20\x27sp_whatsapp_webhook\x27','sent','remove\x20new\x20session\x20qr','replaceAll','get_accounts','groupFetchAllParticipating','messages.upsert','autoresponder','sections','wa_chatbot_count','wid','emit','SUCCESS','connectionClosed','post_type','media','relogin',',\x20reconnecting\x20','./common.js','videoMessage','buttonsResponseMessage','data','makeWASocket','process_message','post','socket.io','sleep','exports','\x27\x20AND\x20team_id\x20=\x20\x27','sp_whatsapp_webhook','qrcode','@g.us','sendMessage','extendedTextMessage','readyState','image','isLatest','loggedOut','next_account','owner','chatbot_failed','SELECT\x20value\x20FROM\x20sp_options\x20WHERE\x20name\x20=\x20\x27base_url\x27','add_account','remoteJid','existsSync','1554915chJxCE','team_id','list_message_template_handler','audio','@hapi/boom','success','body-parser','fromMe','new\x20session\x20was\x20created\x20for','waitForOpenConnection','chat_id','messageTimestamp','restarting\x20counters\x20for\x20','no\x20record\x20found\x20on\x20sp_whatsapp_sessions','sp_whatsapp_sessions','templateButtonReplyMessage','version','Respuesta\x20de\x20licence:','sp_whatsapp_stats','creds.update','webhook','unspin','Error\x20al\x20llamar\x20a\x20la\x20URL\x20check_license:','split','length','1257765jOGEvG','data:image/png;base64,','The\x20Instance\x20ID\x20provided\x20has\x20been\x20invalidated','conversation','audioMessage','getMinutes','push','groupMetadata','avatar','3eTtlZi','autoresponder_sent','get_total_phone_number','api','status','connection\x20closed\x20due\x20to\x20','axios','32118880StAFLz','callButton','statusCode','wa_autoresponder_count','SELECT\x20*\x20FROM\x20sp_whatsapp_webhook\x20WHERE\x20status\x20=\x201\x20AND\x20instance_id\x20=\x20\x27','participants','urlencoded','stats','join','g.us','status@broadcast','16.5','value','end_campaign_','phone','footer','db_get','buttonText','query','logout','db_insert','db_insert_stats','filename','forEach','Error','common_data','count','contacts.update','body','title','spintax','expiration_date','get_file_name','makeid','565534GneNSu','autoresponder_failed','@whiskeysockets/baileys','catch','button_template_handler','jid','creating\x20new\x20session\x20for','@c.us','stringify','sp_whatsapp_chatbot','keywords','cors','phone_number','output','accounts','templateButtons','Error\x20al\x20llamar\x20a\x20la\x20URL\x20license_verified:','https://distracted-ramanujan.198-7-148-115.plesk.page/check?p=12345&d=','bulk','timezone','Invalid\x20team_id\x20or\x20missing\x20\x27wa_total_sent_by_month\x27\x20property.','Respuesta\x20de\x20check_license:','selectedDisplayText','sp_whatsapp_autoresponder','sync','lastMsg','sessions/','randomIntFromInterval','keys','&i=198.7.148.115','message','max_delay','connection','failed','rows','desc','text','check_especials','wa_bulk_total_count','indexOf','error','urlButton','then','video','bulk_sent','schedule_time','next_update','send_to','displayText','use','result','pino','except','nextBot','get','end','sp_accounts','get_avatar','time_post','sp_whatsapp_template','SELECT\x20*\x20FROM\x20sp_whatsapp_schedules\x20WHERE\x20status\x20=\x201\x20AND\x20run\x20<=\x20\x27','log','/../sessions/','SELECT\x20expiration_date\x20FROM\x20sp_users\x20WHERE\x20id\x20=\x20\x27','type','chatbot','The\x20Instance\x20ID\x20must\x20be\x20provided\x20for\x20the\x20process\x20to\x20be\x20completed','Success','messages.update','creating\x20new\x20record\x20on\x20sp_whatsapp_sessions\x20for\x20','1158003pJeDPy','wa_bulk_sent_count','toString','\x27\x20AND\x20accounts\x20!=\x20\x27\x27\x20AND\x20time_post\x20<=\x20\x27','wa_total_sent_by_month','permissions','ephemeralMessage','.00','wa_total_sent','subject','wa_bulk_failed_count','Error\x20al\x20llamar\x20a\x20la\x20URL\x20licence:','open','includes','contacts.upsert',',\x20isLatest:\x20','express','This\x20account\x20seems\x20to\x20have\x20logged\x20out\x20before.','instance_id','random','connection.update','send\x20message\x20to\x20','run','close','parse','description','caption','auto_send','7260966LJiYyF','key','4651368nPCNvD','messages','template','delay','db_update','wa_time_reset','groups','\x27\x20ORDER\x20BY\x20time_post\x20ASC\x20LIMIT\x205','format','whatsapp_message_per_month','update_status_instance','toLowerCase','sp_whatsapp_schedules','recreando\x20WASocket\x20reason:','get_phone','params','user','The\x20authentication\x20process\x20has\x20failed','wa_api_count','undefined','new\x20connection','getTime','chatbot_sent','OPEN','restartRequired','group','contact_id','bulk_failed','db_query','floor','./extend.js','fileName','frontend','process','The\x20WhatsApp\x20session\x20could\x20not\x20be\x20found\x20in\x20the\x20system','min_delay','init','./../config.js'];_0x3a1d=function(){return _0x3ee968;};return _0x3a1d();}const {default:makeWASocket,BufferJSON,useMultiFileAuthState,DisconnectReason,fetchLatestWaWebVersion,WAMessageStubType}=require(_0x10b7bd(0x1fa)),WAZIPER={'io':io,'app':app,'server':server,'cors':cors(config[_0x10b7bd(0x203)]),'makeWASocket':async function(_0x234aa0){var _0x4f8504=_0x10b7bd;const {state:_0x159819,saveCreds:_0x56aeb4}=await useMultiFileAuthState(_0x4f8504(0x212)+_0x234aa0);levelconfig['level']='silent';const _0x19f1ce=makeWASocket({'auth':_0x159819,'printQRInTerminal':![],'version':wa_version,'browser':[_0x234aa0,'Safari',_0x4f8504(0x1e1)],'logger':P(levelconfig),'receivedPendingNotifications':![],'defaultQueryTimeoutMs':undefined});return _0x19f1ce['ev'][_0x4f8504(0x16a)](async _0x387d86=>{var _0x848579=_0x4f8504;if(_0x387d86['connection.update']){const _0x3a4f5e=_0x387d86[_0x848579(0x252)],{connection:_0x420eed,lastDisconnect:_0x273a22,isNewLogin:_0xd1f4f2,qr:_0x4ea2d7,receivedPendingNotifications:_0x4c0a4a}=_0x3a4f5e;_0x4ea2d7!=undefined&&(_0x19f1ce['qrcode']=_0x4ea2d7,new_sessions[_0x234aa0]==undefined&&(new_sessions[_0x234aa0]=new Date()[_0x848579(0x271)]()/0x3e8+0x12c));if(_0xd1f4f2){await WAZIPER['makeWASocket'](_0x234aa0);return;}if(_0x273a22!=undefined&&_0x273a22[_0x848579(0x220)]!=undefined){var _0x14e4bf=_0x273a22[_0x848579(0x220)][_0x848579(0x205)][_0x848579(0x1d8)];(DisconnectReason[_0x848579(0x274)]==_0x14e4bf||DisconnectReason[_0x848579(0x18d)]==_0x14e4bf)&&(console[_0x848579(0x235)](_0x848579(0x269),_0x14e4bf),await WAZIPER[_0x848579(0x196)](_0x234aa0));}switch(_0x420eed){case _0x848579(0x255):var _0x418b25=_0x273a22[_0x848579(0x220)]?.[_0x848579(0x205)]?.[_0x848579(0x1d8)]!==DisconnectReason[_0x848579(0x1a5)]||_0x273a22[_0x848579(0x220)]?.[_0x848579(0x205)]?.['statusCode']==0x0;_0x273a22[_0x848579(0x220)]?.[_0x848579(0x205)]?.['statusCode']==DisconnectReason['timedOut']&&(sessions[_0x234aa0]?.['qrcode']||new_sessions[_0x234aa0])&&(_0x418b25=![]);console['log'](_0x848579(0x1d4),_0x273a22[_0x848579(0x220)]?.[_0x848579(0x205)]?.[_0x848579(0x1d8)],_0x848579(0x191),_0x418b25);if(!_0x418b25){var _0x1e8ecc=session_dir+_0x234aa0;fs[_0x848579(0x1ac)](_0x1e8ecc)&&(rimraf['sync'](_0x1e8ecc),delete sessions[_0x234aa0],delete chatbots[_0x234aa0],delete bulks[_0x234aa0]),delete new_sessions[_0x234aa0],await WAZIPER['logout'](_0x234aa0);}else console['log'](_0x848579(0x1fe),_0x234aa0),delete sessions[_0x234aa0],await new Promise(_0x1733e0=>setTimeout(_0x1733e0,0x1388)),await WAZIPER[_0x848579(0x17a)](_0x234aa0),console[_0x848579(0x235)](_0x848579(0x1b5),_0x234aa0);break;case _0x848579(0x24a):if(_0x19f1ce[_0x848579(0x26c)]['name']==undefined){await Common[_0x848579(0x19a)](0xbb8),await WAZIPER['makeWASocket'](_0x234aa0);break;}sessions[_0x234aa0]=_0x19f1ce;sessions[_0x234aa0][_0x848579(0x19e)]!=undefined&&(console[_0x848579(0x235)](_0x848579(0x182)),delete sessions[_0x234aa0]['qrcode'],delete new_sessions[_0x234aa0]);var _0x292a6e={'instance_id':_0x234aa0},_0x47426c={'status':0x0},_0x29becd=await Common[_0x848579(0x1e6)]('sp_whatsapp_sessions',[_0x292a6e,_0x47426c]);if(_0x29becd){_0x19f1ce[_0x848579(0x26c)][_0x848579(0x1ce)]=await WAZIPER[_0x848579(0x231)](_0x19f1ce);var _0x32763d={'token':_0x234aa0},_0x28adb6=await Common[_0x848579(0x1e6)](_0x848579(0x230),[_0x32763d]);if(!_0x28adb6){var _0x50b0f9={'team_id':_0x29becd[_0x848579(0x1ae)]};_0x28adb6=await Common[_0x848579(0x1e6)](_0x848579(0x230),[{'pid':Common[_0x848579(0x26a)](_0x19f1ce[_0x848579(0x26c)]['id'],_0x848579(0x18a))},_0x50b0f9]);}await Common[_0x848579(0x266)](_0x234aa0,_0x19f1ce[_0x848579(0x26c)]),await WAZIPER[_0x848579(0x1aa)](_0x234aa0,_0x29becd['team_id'],_0x19f1ce['user'],_0x28adb6);}break;default:}}if(_0x387d86[_0x848579(0x186)]){var _0x57998a=_0x387d86['messages.upsert'],_0x16bbb9={'event':_0x848579(0x186),'data':_0x57998a['messages']};await WAZIPER[_0x848579(0x1c1)](_0x234aa0,_0x16bbb9);if(_0x57998a[_0x848579(0x25d)]!=undefined){_0x57998a=_0x57998a['messages'];if(_0x57998a[_0x848579(0x1c5)]>0x0)for(var _0x3a94df=0x0;_0x3a94df<_0x57998a[_0x848579(0x1c5)];_0x3a94df++){var _0x48d006=_0x57998a[_0x3a94df],_0x19f477=_0x48d006[_0x848579(0x25b)][_0x848579(0x1ab)];if(_0x48d006['key'][_0x848579(0x1b4)]===![]&&_0x48d006[_0x848579(0x25b)]['remoteJid']!=_0x848579(0x1e0)&&_0x48d006[_0x848579(0x216)]!=undefined){var _0x4c020f=_0x848579(0x26c);_0x19f477[_0x848579(0x21f)]('g.us')!==-0x1&&(_0x4c020f='group'),await WAZIPER['chatbot'](_0x234aa0,_0x4c020f,_0x48d006),await WAZIPER[_0x848579(0x187)](_0x234aa0,_0x4c020f,_0x48d006);}else _0x48d006['messageStubType']!=undefined&&_0x48d006['messageStubType']==WAMessageStubType[_0x848579(0x17e)]&&await WAZIPER['autoresponder'](_0x234aa0,_0x4c020f,_0x48d006);if(_0x48d006[_0x848579(0x216)]!=undefined){if(_0x19f477[_0x848579(0x24b)](_0x848579(0x19f))){sessions[_0x234aa0][_0x848579(0x262)]==undefined&&(sessions[_0x234aa0][_0x848579(0x262)]=[]);var _0x38abca=!![];sessions[_0x234aa0][_0x848579(0x262)][_0x848579(0x1ed)](async _0x5576ba=>{_0x5576ba['id']==_0x19f477&&(_0x38abca=![]);}),_0x38abca&&await _0x19f1ce[_0x848579(0x1cd)](_0x19f477)[_0x848579(0x222)](async _0x5a828f=>{var _0x1169ab=_0x848579,_0x37cc65={'id':_0x5a828f['id'],'name':_0x5a828f[_0x1169ab(0x247)],'size':_0x5a828f['size'],'desc':_0x5a828f[_0x1169ab(0x21b)],'participants':_0x5a828f[_0x1169ab(0x1db)]};sessions[_0x234aa0][_0x1169ab(0x262)][_0x1169ab(0x1cc)](_0x37cc65);})[_0x848579(0x1fb)](()=>{});}}}}}if(_0x387d86[_0x848579(0x1f1)]){const _0x5d292c=_0x387d86[_0x848579(0x1f1)];var _0x4c646d={'event':_0x848579(0x1f1),'data':_0x5d292c};await WAZIPER[_0x848579(0x1c1)](_0x234aa0,_0x4c646d);}if(_0x387d86[_0x848579(0x24c)]){const _0x1b100c=_0x387d86[_0x848579(0x24c)];var _0x9cd8b9={'event':_0x848579(0x24c),'data':_0x1b100c};await WAZIPER[_0x848579(0x1c1)](_0x234aa0,_0x9cd8b9);}if(_0x387d86['messages.update']){const _0x18e408=_0x387d86[_0x848579(0x23c)];var _0x27cf20={'event':'messages.update','data':_0x18e408};await WAZIPER['webhook'](_0x234aa0,_0x27cf20);}if(_0x387d86[_0x848579(0x174)]){const _0x2464a9=_0x387d86[_0x848579(0x174)];var _0x77656d={'event':_0x848579(0x174),'data':_0x2464a9};await WAZIPER[_0x848579(0x1c1)](_0x234aa0,_0x77656d);}_0x387d86[_0x848579(0x1c0)]&&await _0x56aeb4();}),_0x19f1ce;},'session':async function(_0xef0414,_0x474528){var _0x4badf1=_0x10b7bd;return(sessions[_0xef0414]==undefined||_0x474528)&&(sessions[_0xef0414]=await WAZIPER[_0x4badf1(0x196)](_0xef0414)),sessions[_0xef0414];},'instance':async function(_0x422db6,_0x2e241e,_0x2d3486,_0x27a038,_0x39bb5b){var _0x5c3476=_0x10b7bd,_0x33407b=Math['floor'](new Date()[_0x5c3476(0x271)]()/0x3e8);if(verify_next<_0x33407b){var _0x48a4ac=await Common['db_query'](_0x5c3476(0x1a9)),_0x6039b2=_0x48a4ac[_0x5c3476(0x1e2)],_0x5f009d=await publicIp[_0x5c3476(0x17b)](),_0x3bf719=await new Promise(async(_0x3d3e2c,_0x4262b4)=>{return verify_response=null,verified=!![],_0x3d3e2c(null);});verify_next=_0x33407b+0x258;}if(_0x2e241e==undefined&&_0x27a038!=undefined){if(_0x27a038){var _0x2b35ff={};return _0x2b35ff['status']=_0x5c3476(0x220),_0x2b35ff['message']=_0x5c3476(0x23a),_0x27a038[_0x5c3476(0x17d)](_0x2b35ff);}else return _0x39bb5b(![]);}var _0x7efa8d={'ids':_0x422db6},_0xba2571=await Common[_0x5c3476(0x1e6)](_0x5c3476(0x17f),[_0x7efa8d]);if(!_0xba2571){if(_0x27a038){var _0x2b35ff={};return _0x2b35ff['status']='error',_0x2b35ff[_0x5c3476(0x216)]='The\x20authentication\x20process\x20has\x20failed',_0x27a038[_0x5c3476(0x17d)](_0x2b35ff);}else return _0x39bb5b(![]);}var _0x48e5e9={'instance_id':_0x2e241e},_0x321f85={'team_id':_0xba2571['id']},_0x2108af=await Common[_0x5c3476(0x1e6)](_0x5c3476(0x1bb),[_0x48e5e9,_0x321f85]);if(!_0x2108af){check_session=await WAZIPER[_0x5c3476(0x17a)](_0x2e241e);if(!check_session['qr']){console['log'](_0x5c3476(0x23d)+_0x2e241e,check_session['qr']),sessions[_0x2e241e]=check_session;var _0x93ac17=sessions[_0x2e241e][_0x5c3476(0x26c)],_0x1f2993=0x0;_0x93ac17?(_0x93ac17[_0x5c3476(0x1ce)]='',_0x93ac17[_0x5c3476(0x1fd)]=Common['get_phone'](_0x93ac17['id'],_0x5c3476(0x18a)),_0x1f2993=0x1,_0x93ac17=JSON[_0x5c3476(0x200)](_0x93ac17)):_0x93ac17=null;var _0x470007={'ids':Common[_0x5c3476(0x1f7)](0xd),'instance_id':_0x2e241e,'team_id':_0xba2571['id'],'status':_0x1f2993,'data':_0x93ac17},_0x27a038=Common[_0x5c3476(0x1ea)]('sp_whatsapp_sessions',_0x470007);}else{console[_0x5c3476(0x235)](_0x5c3476(0x1ba),_0x2e241e,_0xba2571['id']);var _0x19a375={'status':0x0},_0x5b056c={'token':_0x2e241e};Common[_0x5c3476(0x260)]('sp_accounts',[_0x19a375,_0x5b056c]);if(_0x27a038){var _0x2b35ff={};return _0x2b35ff['status']='error',_0x2b35ff[_0x5c3476(0x216)]=_0x5c3476(0x1c8),_0x27a038[_0x5c3476(0x17d)](_0x2b35ff);}else return _0x39bb5b(![]);}}if(_0x2d3486){var _0x16991d=session_dir+_0x2e241e;fs[_0x5c3476(0x1ac)](_0x16991d)&&rimraf['sync'](_0x16991d),delete sessions[_0x2e241e],delete chatbots[_0x2e241e],delete bulks[_0x2e241e];}return sessions[_0x2e241e]=await WAZIPER[_0x5c3476(0x17a)](_0x2e241e,![]),_0x39bb5b(sessions[_0x2e241e]);},'webhook':async function(_0x181d05,_0xd2fb54){var _0xa3b270=_0x10b7bd,_0x420b92=await Common[_0xa3b270(0x165)](_0xa3b270(0x180));if(_0x420b92){var _0x5d06a2=await Common['db_query'](_0xa3b270(0x1da)+_0x181d05+'\x27');if(_0x5d06a2){var _0x467c6f={'instance_id':_0x181d05,'data':_0xd2fb54};axios[_0xa3b270(0x198)](_0x5d06a2['webhook_url'],_0x467c6f)[_0xa3b270(0x222)](_0x3d8fc9=>{})[_0xa3b270(0x1fb)](()=>{});}}},'get_qrcode':async function(_0x2487e9,_0x1120ec){var _0xab7edc=_0x10b7bd,_0x57a603=sessions[_0x2487e9];if(_0x57a603==undefined){var _0x27549b={};return _0x27549b['status']=_0xab7edc(0x220),_0x27549b['message']=_0xab7edc(0x16b),_0x1120ec['json'](_0x27549b);}if(_0x57a603[_0xab7edc(0x19e)]!=undefined&&!_0x57a603['qrcode']){var _0x27549b={};return _0x27549b[_0xab7edc(0x1d3)]='error',_0x27549b[_0xab7edc(0x216)]='It\x20seems\x20that\x20you\x20have\x20logged\x20in\x20successfully',_0x1120ec['json'](_0x27549b);}for(var _0x3c5388=0x0;_0x3c5388<0xa;_0x3c5388++){_0x57a603[_0xab7edc(0x19e)]==undefined&&await Common['sleep'](0x3e8);}if(_0x57a603[_0xab7edc(0x19e)]==undefined||_0x57a603[_0xab7edc(0x19e)]==![]){var _0x27549b={};return _0x27549b[_0xab7edc(0x1d3)]=_0xab7edc(0x220),_0x27549b[_0xab7edc(0x216)]=_0xab7edc(0x179),_0x1120ec[_0xab7edc(0x17d)](_0x27549b);}var _0x595edd={'type':'png'},_0x4d8586=qrimg['imageSync'](_0x57a603['qrcode'],_0x595edd);return _0x1120ec[_0xab7edc(0x17d)]({'status':_0xab7edc(0x1b2),'message':_0xab7edc(0x23b),'base64':_0xab7edc(0x1c7)+_0x4d8586[_0xab7edc(0x240)]('base64')});},'get_info':async function(_0x40e469,_0x2d88b9){var _0x3bde23=_0x10b7bd,_0xf58bf1=sessions[_0x40e469];if(_0xf58bf1!=undefined&&_0xf58bf1['user']!=undefined){_0xf58bf1[_0x3bde23(0x26c)][_0x3bde23(0x1ce)]==undefined&&await Common['sleep'](0x5dc);_0xf58bf1[_0x3bde23(0x26c)]['avatar']=await WAZIPER[_0x3bde23(0x231)](_0xf58bf1);var _0x263817={};return _0x263817[_0x3bde23(0x1d3)]=_0x3bde23(0x1b2),_0x263817[_0x3bde23(0x216)]=_0x3bde23(0x23b),_0x263817['data']=_0xf58bf1[_0x3bde23(0x26c)],_0x2d88b9[_0x3bde23(0x17d)](_0x263817);}else{var _0x3dca1d={};return _0x3dca1d[_0x3bde23(0x1d3)]='error',_0x3dca1d['message']=_0x3bde23(0x1ee),_0x3dca1d[_0x3bde23(0x190)]=!![],_0x2d88b9[_0x3bde23(0x17d)](_0x3dca1d);}},'get_avatar':async function(_0xe05fa0){var _0x1064dd=_0x10b7bd;try{const _0x178425=await _0xe05fa0['profilePictureUrl'](_0xe05fa0[_0x1064dd(0x26c)]['id']);return _0x178425;}catch(_0x194863){return Common[_0x1064dd(0x231)](_0xe05fa0[_0x1064dd(0x26c)]['name']);}},'waitForOpenConnection':async function(_0x348503){return new Promise((_0x219273,_0x1e591b)=>{const _0x3b67c8=0xa,_0x51fa43=0xc8;let _0x4da917=0x0;const _0x588d60=setInterval(()=>{var _0xe10689=_0x3358;if(_0x4da917>_0x3b67c8-0x1)clearInterval(_0x588d60),_0x219273(0x0);else _0x348503[_0xe10689(0x1a2)]===_0x348503[_0xe10689(0x273)]&&(clearInterval(_0x588d60),_0x219273(0x1));_0x4da917++;},_0x51fa43);});},'relogin':async function(_0x57e60a,_0x54ff3d){var _0x469059=_0x10b7bd;if(sessions[_0x57e60a]){var _0x3aa976=await WAZIPER[_0x469059(0x1b6)](sessions[_0x57e60a]['ws']);_0x3aa976===0x1&&sessions[_0x57e60a][_0x469059(0x22f)](),delete sessions[_0x57e60a],delete chatbots[_0x57e60a],delete bulks[_0x57e60a];}await WAZIPER['session'](_0x57e60a,!![]);},'logout':async function(_0x1b1aa7,_0x176317){var _0x28c827=_0x10b7bd,_0x3fbb59={'instance_id':_0x1b1aa7};Common[_0x28c827(0x177)](_0x28c827(0x1bb),[_0x3fbb59]);var _0xac1134={'status':0x0},_0x3d5194={'token':_0x1b1aa7};Common[_0x28c827(0x260)](_0x28c827(0x230),[_0xac1134,_0x3d5194]);if(sessions[_0x1b1aa7]){await sessions[_0x1b1aa7][_0x28c827(0x1e9)]();var _0x1cdcd0=session_dir+_0x1b1aa7;fs[_0x28c827(0x1ac)](_0x1cdcd0)&&rimraf[_0x28c827(0x210)](_0x1cdcd0);delete sessions[_0x1b1aa7],delete chatbots[_0x1b1aa7],delete bulks[_0x1b1aa7];if(_0x176317!=undefined){var _0x43b2b2={};return _0x43b2b2['status']='success',_0x43b2b2[_0x28c827(0x216)]=_0x28c827(0x23b),_0x176317[_0x28c827(0x17d)](_0x43b2b2);}}else{if(_0x176317!=undefined){var _0x3bd154={};return _0x3bd154['status']=_0x28c827(0x220),_0x3bd154[_0x28c827(0x216)]=_0x28c827(0x24f),_0x176317[_0x28c827(0x17d)](_0x3bd154);}}},'get_groups':async function(_0xd3dac6,_0x1e9657){var _0x522b5f=_0x10b7bd,_0x2578b7=sessions[_0xd3dac6];_0x2578b7[_0x522b5f(0x185)]()['then'](async _0x48e250=>{var _0x5b672b=_0x522b5f;Object[_0x5b672b(0x214)](_0x48e250)[_0x5b672b(0x1ed)](async _0x269f77=>{var _0x269848=_0x5b672b;_0x2578b7[_0x269848(0x262)]==undefined&&(_0x2578b7[_0x269848(0x262)]=[]);var _0x2ce508=!![];_0x2578b7[_0x269848(0x262)][_0x269848(0x1ed)](async _0x421c75=>{_0x421c75['id']==_0x269f77&&(_0x2ce508=![]);}),_0x2ce508&&await _0x2578b7[_0x269848(0x1cd)](_0x269f77)['then'](async _0x5185d2=>{var _0x1186e0=_0x269848,_0x50b8a4={'id':_0x5185d2['id'],'name':_0x5185d2['subject'],'size':_0x5185d2[_0x1186e0(0x176)],'desc':_0x5185d2[_0x1186e0(0x21b)],'participants':_0x5185d2[_0x1186e0(0x1db)]};_0x2578b7['groups']['push'](_0x50b8a4);})[_0x269848(0x1fb)](()=>{});});});if(_0x2578b7!=undefined&&_0x2578b7[_0x522b5f(0x262)]!=undefined){var _0x4f5c0e={'status':_0x522b5f(0x1b2),'message':_0x522b5f(0x23b),'data':_0x2578b7['groups']};_0x1e9657[_0x522b5f(0x17d)](_0x4f5c0e);}else{var _0x2931bc={'status':_0x522b5f(0x1b2),'message':_0x522b5f(0x23b),'data':[]};_0x1e9657[_0x522b5f(0x17d)](_0x2931bc);}},'bulk_messaging':async function(){var _0x2dcc20=_0x10b7bd;const _0xc8c2a2=new Date();var _0x4d3d97=parseInt(_0xc8c2a2[_0x2dcc20(0x271)]()/0x3e8),_0x40c538=_0x2dcc20(0x234)+_0x4d3d97+_0x2dcc20(0x241)+_0x4d3d97+_0x2dcc20(0x263);items=await Common['db_query'](_0x40c538,![]),items&&(items['forEach'](async _0xb6d747=>{var _0xcddc51={'id':_0xb6d747['id']};await Common['db_update']('sp_whatsapp_schedules',[{'run':_0x4d3d97+0x12c},_0xcddc51]);}),items['forEach'](async _0x7b3c74=>{var _0x5c0bc8=_0x2dcc20;console['log']('bulk\x20process',_0x7b3c74['id'],'next\x20account',_0x7b3c74[_0x5c0bc8(0x1a6)]);var _0x5a1600=-0x1;if(_0x7b3c74[_0x5c0bc8(0x20b)]!=''){var _0xb14d7e=Common['getTZDiff'](_0x7b3c74['timezone']),_0x4aee97=moment();_0x5a1600=parseInt(_0x4aee97['tz'](_0x7b3c74[_0x5c0bc8(0x20b)])[_0x5c0bc8(0x264)]('HH'));}if(_0x7b3c74[_0x5c0bc8(0x225)]!=''&&_0x5a1600!=-0x1){var _0x45a04c=JSON['parse'](_0x7b3c74[_0x5c0bc8(0x225)]);if(!_0x45a04c[_0x5c0bc8(0x24b)](_0x5a1600[_0x5c0bc8(0x240)]())){var _0x336533=-0x1;for(var _0x5a0278=0x1;_0x5a0278<=0x18;_0x5a0278++){var _0x4aee97=moment(),_0x3688f3=parseInt(_0x4aee97['tz'](_0x7b3c74[_0x5c0bc8(0x20b)])['add'](_0x5a0278,'hours')[_0x5c0bc8(0x264)]('HH'));if(_0x45a04c[_0x5c0bc8(0x24b)](_0x3688f3['toString']())){var _0x4bf4cd=new Date(_0x4d3d97*0x3e8)[_0x5c0bc8(0x1cb)](),_0x10d22c=_0x4bf4cd>0xa?0xa:_0x4bf4cd,_0x187693=Common[_0x5c0bc8(0x213)](0x0,_0x10d22c);_0x336533=_0xc8c2a2[_0x5c0bc8(0x271)]()/0x3e8+_0x5a0278*0x3c*0x3c-(_0x4bf4cd-_0x187693)*0x3c;break;}}if(_0x336533==-0x1){var _0x1ef051={'status':0x2},_0x1dfed9={'id':_0x7b3c74['id']};await Common[_0x5c0bc8(0x260)](_0x5c0bc8(0x268),[_0x1ef051,_0x1dfed9]);}else{var _0x1ef051={'time_post':_0x336533},_0x1dfed9={'id':_0x7b3c74['id']};await Common[_0x5c0bc8(0x260)](_0x5c0bc8(0x268),[_0x1ef051,_0x1dfed9]);}return![];}}if(!_0x7b3c74[_0x5c0bc8(0x22a)]){console[_0x5c0bc8(0x235)](_0x5c0bc8(0x1b9),_0x7b3c74['id']);var _0x13c01d='';!bulks[_0x7b3c74['id']]&&(bulks[_0x7b3c74['id']]={}),bulks[_0x7b3c74['id']]['bulk_sent']=0x0,bulks[_0x7b3c74['id']][_0x5c0bc8(0x164)]=0x0;}else{result=JSON[_0x5c0bc8(0x256)](_0x7b3c74[_0x5c0bc8(0x22a)]);var _0x13c01d=[];for(var _0x5a0278=0x0;_0x5a0278<result['length'];_0x5a0278++){_0x13c01d['push'](result[_0x5a0278]['phone_number'][_0x5c0bc8(0x240)]());}}var _0x10b13e=![],_0x4bf5eb=await Common['get_phone_number'](_0x7b3c74[_0x5c0bc8(0x276)],_0x13c01d);if(!_0x4bf5eb){var _0x1ef051={'status':0x2,'run':0x0},_0x1dfed9={};return _0x1dfed9['id']=_0x7b3c74['id'],await Common['db_update'](_0x5c0bc8(0x268),[_0x1ef051,_0x1dfed9]),WAZIPER['io'][_0x5c0bc8(0x18b)](_0x5c0bc8(0x1e3)+_0x7b3c74[_0x5c0bc8(0x1ae)],{'id':_0x7b3c74['id'],'status':0x2}),![];}else phone_number=(''+_0x4bf5eb['phone'])[_0x5c0bc8(0x183)](_0x5c0bc8(0x245),''),_0x10b13e=_0x4bf5eb[_0x5c0bc8(0x26b)];var _0x2d283f=![],_0x494091=JSON[_0x5c0bc8(0x256)](_0x7b3c74[_0x5c0bc8(0x206)]),_0x57b7b1=_0x7b3c74[_0x5c0bc8(0x1a6)];(_0x57b7b1==null||_0x57b7b1==''||_0x57b7b1>_0x494091['length']-0x1)&&(_0x57b7b1=0x0);var _0x191568=await Common[_0x5c0bc8(0x184)](_0x494091[_0x5c0bc8(0x1de)](','));if(_0x191568&&_0x191568[_0x5c0bc8(0x1f0)]==0x0){var _0x86e075={'status':0x0},_0x51c5b2={'id':_0x7b3c74['id']};await Common[_0x5c0bc8(0x260)](_0x5c0bc8(0x268),[_0x86e075,_0x51c5b2]);}await _0x494091[_0x5c0bc8(0x1ed)](async(_0x3cec91,_0x331ab2)=>{var _0x138f51=_0x5c0bc8;if(!_0x2d283f&&_0x331ab2==_0x57b7b1){var _0x1bd9e8={'id':_0x3cec91},_0x107015={'status':0x1},_0x2b25be=await Common[_0x138f51(0x1e6)](_0x138f51(0x230),[_0x1bd9e8,_0x107015]);_0x2b25be&&(_0x2d283f=_0x2b25be['token']);phone_number=(''+_0x4bf5eb[_0x138f51(0x1e4)])[_0x138f51(0x183)](_0x138f51(0x245),''),_0x10b13e=_0x4bf5eb[_0x138f51(0x26b)];if(phone_number[_0x138f51(0x21f)](_0x138f51(0x1df))!==-0x1)var _0x3bf3bc=phone_number;else{phone_number=await Common[_0x138f51(0x21d)](phone_number);var _0x3bf3bc=parseInt(phone_number)+_0x138f51(0x1ff);}if(_0x2b25be&&_0x2b25be[_0x138f51(0x1ae)]==_0x4bf5eb[_0x138f51(0x1ae)]){if(sessions[_0x2d283f]==undefined){var _0x107015={'id':_0x7b3c74['id']};Common[_0x138f51(0x260)](_0x138f51(0x268),[{'next_account':_0x57b7b1+0x1,'run':0x1},_0x107015]);}else await WAZIPER[_0x138f51(0x259)](_0x2d283f,_0x3bf3bc,phone_number,'bulk',_0x7b3c74,_0x10b13e,![],![],async function(_0xee4194){var _0x35e01c=_0x138f51;if(_0xee4194[_0x35e01c(0x1dd)]&&_0xee4194[_0x35e01c(0x238)]=='bulk'){var _0x176eab=_0xee4194[_0x35e01c(0x1d3)],_0x210be9={'phone_number':_0xee4194[_0x35e01c(0x204)],'status':_0x176eab},_0x210be9=_0x210be9;if(_0x7b3c74['result']==null||_0x7b3c74['result']=='')var _0x25ddd2=[_0x210be9];else{var _0x25ddd2=JSON[_0x35e01c(0x256)](_0x7b3c74[_0x35e01c(0x22a)]);_0x25ddd2[_0x35e01c(0x1cc)](_0x210be9);}bulks[_0x7b3c74['id']]==undefined&&(bulks[_0x7b3c74['id']]={});bulks[_0x7b3c74['id']][_0x35e01c(0x224)]==undefined&&bulks[_0x7b3c74['id']][_0x35e01c(0x164)]==undefined&&(bulks[_0x7b3c74['id']][_0x35e01c(0x224)]=_0x7b3c74[_0x35e01c(0x181)],bulks[_0x7b3c74['id']][_0x35e01c(0x164)]=_0x7b3c74[_0x35e01c(0x219)]);bulks[_0x7b3c74['id']][_0x35e01c(0x224)]+=_0x176eab?0x1:0x0,bulks[_0x7b3c74['id']]['bulk_failed']+=!_0x176eab?0x1:0x0;var _0x35ab79=bulks[_0x7b3c74['id']][_0x35e01c(0x224)],_0x1fa35f=bulks[_0x7b3c74['id']][_0x35e01c(0x164)],_0x5696cf=_0x35ab79+_0x1fa35f,_0x573808=Math['floor'](new Date()['getTime']()/0x3e8),_0x14026a=Math[_0x35e01c(0x166)](Math[_0x35e01c(0x251)]()*_0x7b3c74[_0x35e01c(0x217)])+_0x7b3c74[_0x35e01c(0x16c)],_0x1b9cc1=_0x7b3c74[_0x35e01c(0x232)]+_0x14026a;_0x1b9cc1<_0x573808&&(_0x1b9cc1=_0x573808+_0x14026a);var _0x4022b1={'result':JSON[_0x35e01c(0x200)](_0x25ddd2),'sent':_0x35ab79,'failed':_0x1fa35f,'time_post':_0x1b9cc1,'next_account':_0x57b7b1+0x1,'run':0x0},_0x79b077={'id':_0x7b3c74['id']};await Common[_0x35e01c(0x260)](_0x35e01c(0x268),[_0x4022b1,_0x79b077]);var _0x4a97f5=await Common[_0x35e01c(0x1d1)](_0x7b3c74[_0x35e01c(0x276)]);WAZIPER['io'][_0x35e01c(0x18b)]('update_campaign_'+_0x7b3c74[_0x35e01c(0x1ae)],{'id':_0x7b3c74['id'],'sent':_0x35ab79,'failed':_0x1fa35f,'next':_0x1b9cc1,'total_phone_numbers':_0x4a97f5[_0x35e01c(0x1f0)]});}});}}});}));},'autoresponder':async function(_0x3e7051,_0x194543,_0x1d0881){var _0x1728de=_0x10b7bd,_0x41e85e=_0x1d0881[_0x1728de(0x25b)]['remoteJid'],_0x2f8ba9=new Date()[_0x1728de(0x271)]()/0x3e8,_0x10cfe2={'instance_id':_0x3e7051},_0xcc4298={'status':0x1},_0x28203b=await Common[_0x1728de(0x1e6)](_0x1728de(0x20f),[_0x10cfe2,_0xcc4298]);if(!_0x28203b)return![];switch(_0x28203b[_0x1728de(0x227)]){case 0x2:if(_0x194543==_0x1728de(0x275))return![];break;case 0x3:if(_0x194543==_0x1728de(0x26c))return![];break;}sessions[_0x3e7051]['lastMsg']==undefined&&(sessions[_0x3e7051][_0x1728de(0x211)]={});var _0x465c08=sessions[_0x3e7051]['lastMsg'][_0x41e85e];sessions[_0x3e7051][_0x1728de(0x211)][_0x41e85e]=_0x1d0881[_0x1728de(0x1b8)];if(_0x465c08!=undefined&&_0x465c08+_0x28203b[_0x1728de(0x25f)]*0x3c>=_0x2f8ba9)return![];var _0x17b6ea=[];if(_0x28203b[_0x1728de(0x22c)]!=null)var _0x17b6ea=_0x28203b[_0x1728de(0x22c)][_0x1728de(0x1c4)](',');if(_0x17b6ea[_0x1728de(0x1c5)]>0x0)for(var _0x3720ba=0x0;_0x3720ba<_0x17b6ea[_0x1728de(0x1c5)];_0x3720ba++){if(_0x17b6ea[_0x3720ba]!=''&&_0x41e85e[_0x1728de(0x21f)](_0x17b6ea[_0x3720ba])!=-0x1)return![];}return await WAZIPER[_0x1728de(0x259)](_0x3e7051,_0x41e85e,_0x41e85e,_0x1728de(0x187),_0x28203b,![],![],![],function(_0x1ed787){}),![];},'chatbot':async function(_0x45d834,_0x43dd76,_0xb3fdd){var _0x2a0560=_0x10b7bd,_0x6db330=_0xb3fdd[_0x2a0560(0x25b)][_0x2a0560(0x1ab)],_0x868c40={'instance_id':_0x45d834},_0x38c491={'status':0x1},_0x19c884={'run':0x1},_0x19a230=await Common['db_fetch'](_0x2a0560(0x201),[_0x868c40,_0x38c491,_0x19c884]);if(!_0x19a230)return![];counter=0x0;var _0x13c74d=![],_0x20241a=![];_0xb3fdd['message']?.[_0x2a0560(0x244)]&&(_0xb3fdd[_0x2a0560(0x216)]=_0xb3fdd[_0x2a0560(0x216)][_0x2a0560(0x244)][_0x2a0560(0x216)]);if(_0xb3fdd[_0x2a0560(0x216)]?.[_0x2a0560(0x194)]!=undefined)_0x20241a=_0xb3fdd['buttonsResponseMessage'][_0x2a0560(0x20e)];else{if(_0xb3fdd[_0x2a0560(0x216)]?.[_0x2a0560(0x1bc)]!=undefined)_0x20241a=_0xb3fdd[_0x2a0560(0x216)][_0x2a0560(0x1bc)][_0x2a0560(0x20e)];else{if(_0xb3fdd[_0x2a0560(0x216)]?.[_0x2a0560(0x175)]!=undefined)_0x20241a=_0xb3fdd[_0x2a0560(0x216)][_0x2a0560(0x175)][_0x2a0560(0x1f3)]+'\x20'+_0xb3fdd[_0x2a0560(0x216)][_0x2a0560(0x175)][_0x2a0560(0x257)];else{if(typeof _0xb3fdd['message']?.[_0x2a0560(0x1a1)]!=_0x2a0560(0x26f)&&_0xb3fdd[_0x2a0560(0x216)][_0x2a0560(0x1a1)]!=null)_0x20241a=_0xb3fdd[_0x2a0560(0x216)][_0x2a0560(0x1a1)][_0x2a0560(0x21c)];else{if(typeof _0xb3fdd[_0x2a0560(0x216)]?.['imageMessage']!=_0x2a0560(0x26f)&&_0xb3fdd[_0x2a0560(0x216)][_0x2a0560(0x17c)]!=null)_0x20241a=_0xb3fdd[_0x2a0560(0x216)][_0x2a0560(0x17c)][_0x2a0560(0x258)],!_0x20241a&&(_0x20241a='📷');else{if(typeof _0xb3fdd[_0x2a0560(0x216)]?.[_0x2a0560(0x193)]!=_0x2a0560(0x26f)&&_0xb3fdd[_0x2a0560(0x216)][_0x2a0560(0x193)]!=null)_0x20241a=_0xb3fdd['message'][_0x2a0560(0x193)][_0x2a0560(0x258)],!_0x20241a&&(_0x20241a='📹');else typeof _0xb3fdd[_0x2a0560(0x216)]?.[_0x2a0560(0x1c9)]!=_0x2a0560(0x26f)&&(_0x20241a=_0xb3fdd[_0x2a0560(0x216)]['conversation']);}}}}}!_0x20241a&&(_0xb3fdd[_0x2a0560(0x216)]={},_0xb3fdd[_0x2a0560(0x216)][_0x2a0560(0x1c9)]='👋',_0x20241a='👋');_0x19a230['forEach'](async(_0x3ddf38,_0x4694d9)=>{var _0x37eb91=_0x2a0560,_0x2ce7ca=_0x3ddf38[_0x37eb91(0x258)],_0x4a90c8=_0x3ddf38[_0x37eb91(0x202)]['split'](','),_0x1c3976=!![];switch(_0x3ddf38[_0x37eb91(0x227)]){case 0x2:_0x43dd76==_0x37eb91(0x275)&&(_0x1c3976=![]);break;case 0x3:_0x43dd76==_0x37eb91(0x26c)&&(_0x1c3976=![]);break;}if(_0x1c3976){var _0xdb5771=![];if(_0x3ddf38['type_search']==0x1)for(var _0x4a6aac=0x0;_0x4a6aac<_0x4a90c8[_0x37eb91(0x1c5)];_0x4a6aac++){if(_0x20241a&&!_0xdb5771){var _0x429218=_0x20241a[_0x37eb91(0x267)]();if(_0x429218[_0x37eb91(0x21f)](_0x4a90c8[_0x4a6aac])!==-0x1){_0xdb5771=!![],_0x13c74d=!![];var _0x148fe7=counter++;setTimeout(function(){var _0x31ca36=_0x37eb91;WAZIPER[_0x31ca36(0x259)](_0x45d834,_0x6db330,_0x6db330,_0x31ca36(0x239),_0x3ddf38,![],_0xb3fdd,_0x20241a,function(_0x552dbb){var _0x4f88fe=_0x31ca36;Extend[_0x4f88fe(0x22d)](_0x552dbb,_0x3ddf38,_0xb3fdd,_0x45d834,_0x43dd76,WAZIPER);});},_0x148fe7*chatbot_delay);}}else break;}else for(var _0x4a6aac=0x0;_0x4a6aac<_0x4a90c8[_0x37eb91(0x1c5)];_0x4a6aac++){if(_0x20241a&&!_0xdb5771){var _0x429218=_0x20241a[_0x37eb91(0x267)]();if(_0x429218==_0x4a90c8[_0x4a6aac]){_0xdb5771=!![],_0x13c74d=!![];var _0x148fe7=counter++;setTimeout(function(){var _0x478ba2=_0x37eb91;WAZIPER[_0x478ba2(0x259)](_0x45d834,_0x6db330,_0x6db330,_0x478ba2(0x239),_0x3ddf38,![],_0xb3fdd,_0x20241a,function(_0xf2d077){Extend['nextBot'](_0xf2d077,_0x3ddf38,_0xb3fdd,_0x45d834,_0x43dd76,WAZIPER);});},_0x148fe7*chatbot_delay);}}else break;}}});if(!_0x13c74d){var _0x5041cb={'instance_id':_0x45d834},_0x4ff7b2={'status':0x1},_0x512b3c={'is_default':0x1},_0x1edf63=await Common['db_get']('sp_whatsapp_chatbot',[_0x5041cb,_0x4ff7b2,_0x512b3c]);if(_0x1edf63){var _0x736515=!![];switch(_0x1edf63[_0x2a0560(0x227)]){case 0x2:_0x43dd76==_0x2a0560(0x275)&&(_0x736515=![]);break;case 0x3:_0x43dd76==_0x2a0560(0x26c)&&(_0x736515=![]);break;}_0x736515&&WAZIPER[_0x2a0560(0x259)](_0x45d834,_0x6db330,_0x6db330,_0x2a0560(0x239),_0x1edf63,![],_0xb3fdd,_0x20241a,function(_0x373e67){var _0x29bd23=_0x2a0560;Extend[_0x29bd23(0x22d)](_0x373e67,_0x1edf63,_0xb3fdd,_0x45d834,_0x43dd76,WAZIPER);});}}},'send_message':async function(_0x10ea3d,_0x40b584,_0x61d809,_0x3e56f3){var _0x47a74d=_0x10b7bd,_0x1e28b7=_0x61d809[_0x47a74d(0x1e8)][_0x47a74d(0x238)],_0x417a7d=_0x61d809[_0x47a74d(0x1f2)][_0x47a74d(0x1b7)],_0x274aa5=_0x61d809[_0x47a74d(0x1f2)]['media_url'],_0x1c03ad=_0x61d809[_0x47a74d(0x1f2)]['caption'],_0x1fc3cc=_0x61d809[_0x47a74d(0x1f2)][_0x47a74d(0x1ec)],_0x40b584={'ids':_0x40b584},_0x3280a5=await Common[_0x47a74d(0x1e6)](_0x47a74d(0x17f),[_0x40b584]);if(!_0x3280a5){var _0x4aee71={};return _0x4aee71[_0x47a74d(0x1d3)]=_0x47a74d(0x220),_0x4aee71[_0x47a74d(0x216)]=_0x47a74d(0x26d),_0x3e56f3[_0x47a74d(0x17d)](_0x4aee71);}var _0x35b779={'team_id':_0x3280a5['id'],'type':0x1,'caption':_0x1c03ad,'media':_0x274aa5,'filename':_0x1fc3cc};item=_0x35b779,await WAZIPER[_0x47a74d(0x259)](_0x10ea3d,_0x417a7d,_0x417a7d,_0x47a74d(0x1d2),item,![],![],![],function(_0x6b3752){var _0x2e6ee5=_0x47a74d;if(_0x6b3752){_0x6b3752['message']!=undefined&&(_0x6b3752[_0x2e6ee5(0x216)][_0x2e6ee5(0x1d3)]=_0x2e6ee5(0x18c));var _0x2732fd={};return _0x2732fd[_0x2e6ee5(0x1d3)]='success',_0x2732fd['message']='Success',_0x2732fd['message']=_0x6b3752['message'],_0x3e56f3['json'](_0x2732fd);}else{var _0x5609b9={};return _0x5609b9['status']='error',_0x5609b9['message']='Error',_0x3e56f3[_0x2e6ee5(0x17d)](_0x5609b9);}});},'auto_send':async function(_0x3c37cd,_0xeb2ff1,_0x2e0e1f,_0x542467,_0x447d0b,_0x3ed9d4,_0x54ace2,_0x2da0da,_0x3513d8){var _0x27e991=_0x10b7bd,_0x5c3927=await WAZIPER['limit'](_0x447d0b,_0x542467);if(!_0x5c3927){var _0x42748={};return _0x42748[_0x27e991(0x1d3)]=0x0,_0x42748[_0x27e991(0x1dd)]=![],_0x42748[_0x27e991(0x216)]=_0x27e991(0x170),_0x3513d8(_0x42748);}var {new_caption:_0x232864,can_continue:_0x258060}=await Extend[_0x27e991(0x197)](_0x3c37cd,_0x447d0b,_0xeb2ff1,_0x542467,_0x2da0da);_0x447d0b[_0x27e991(0x258)]=_0x232864;if(_0x258060){await Extend['sendPresence'](sessions[_0x3c37cd],_0xeb2ff1,_0x447d0b);switch(_0x447d0b[_0x27e991(0x238)]){case 0x2:var _0x3e2562=await WAZIPER[_0x27e991(0x1fc)](_0x447d0b,_0x3ed9d4,_0x54ace2,_0x3c37cd);if(_0x3e2562){var _0x584bdc={'ephemeralExpiration':0x93a80};sessions[_0x3c37cd][_0x27e991(0x1a0)](_0xeb2ff1,_0x3e2562,_0x584bdc)['then'](async _0x20b94f=>{var _0x3bd238=_0x27e991,_0xe31bf={'status':0x1,'type':_0x542467,'phone_number':_0x2e0e1f,'stats':!![],'message':_0x20b94f};_0x3513d8(_0xe31bf),WAZIPER[_0x3bd238(0x1dd)](_0x3c37cd,_0x542467,_0x447d0b,0x1);})[_0x27e991(0x1fb)](()=>{var _0x204c57=_0x27e991,_0x3d2765={'status':0x0,'type':_0x542467,'phone_number':_0x2e0e1f,'stats':!![]};_0x3513d8(_0x3d2765),WAZIPER[_0x204c57(0x1dd)](_0x3c37cd,_0x542467,_0x447d0b,0x0);});}break;case 0x3:var _0x3e2562=await WAZIPER[_0x27e991(0x1af)](_0x447d0b,_0x3ed9d4,_0x54ace2,_0x3c37cd);if(_0x3e2562){var _0x584bdc={'ephemeralExpiration':0x93a80};sessions[_0x3c37cd][_0x27e991(0x1a0)](_0xeb2ff1,_0x3e2562,_0x584bdc)['then'](async _0x39ff85=>{var _0x496691=_0x27e991,_0x2e27ca={'status':0x1,'type':_0x542467,'phone_number':_0x2e0e1f,'stats':!![],'message':_0x39ff85};_0x3513d8(_0x2e27ca),WAZIPER[_0x496691(0x1dd)](_0x3c37cd,_0x542467,_0x447d0b,0x1);})['catch'](()=>{var _0x42036e=_0x27e991,_0x40ff02={'status':0x0,'type':_0x542467,'phone_number':_0x2e0e1f,'stats':!![]};_0x3513d8(_0x40ff02),WAZIPER[_0x42036e(0x1dd)](_0x3c37cd,_0x542467,_0x447d0b,0x0);});}break;default:var _0x5080cf=await Extend[_0x27e991(0x1ef)](sessions[_0x3c37cd],_0x3c37cd,_0x447d0b,_0x54ace2,spintax[_0x27e991(0x1c2)](_0x447d0b['caption']));_0x5080cf=Common[_0x27e991(0x26b)](_0x3ed9d4,_0x5080cf);if(_0x447d0b[_0x27e991(0x18f)]!=''&&_0x447d0b[_0x27e991(0x18f)]){var _0x3a9dd0=Common[_0x27e991(0x171)](_0x447d0b[_0x27e991(0x18f)]),_0x10b787=Common[_0x27e991(0x18e)](_0x3a9dd0,0x1),_0x4ddeba=_0x447d0b[_0x27e991(0x1ec)]!=undefined?_0x447d0b[_0x27e991(0x1ec)]:Common[_0x27e991(0x1f6)](_0x447d0b['media']);switch(_0x10b787){case'videoMessage':var _0x31404a={'url':_0x447d0b[_0x27e991(0x18f)]},_0x5a70d6={};_0x5a70d6[_0x27e991(0x223)]=_0x31404a,_0x5a70d6['caption']=_0x5080cf;var _0x447d0b=_0x5a70d6;break;case _0x27e991(0x17c):var _0x344537={'url':_0x447d0b[_0x27e991(0x18f)]},_0x2c00a5={};_0x2c00a5[_0x27e991(0x1a3)]=_0x344537,_0x2c00a5['caption']=_0x5080cf;var _0x447d0b=_0x2c00a5;break;case _0x27e991(0x1ca):var _0x137403={'url':_0x447d0b[_0x27e991(0x18f)]},_0x1d2bb5={};_0x1d2bb5[_0x27e991(0x1b0)]=_0x137403,_0x1d2bb5[_0x27e991(0x258)]=_0x5080cf;var _0x447d0b=_0x1d2bb5;break;default:var _0x17bbb1={'url':_0x447d0b['media']},_0x5e5fb5={};_0x5e5fb5['document']=_0x17bbb1,_0x5e5fb5[_0x27e991(0x168)]=_0x4ddeba,_0x5e5fb5[_0x27e991(0x258)]=_0x5080cf;var _0x447d0b=_0x5e5fb5;break;}console['log']('send\x20message\x20to\x20',_0xeb2ff1),sessions[_0x3c37cd]['sendMessage'](_0xeb2ff1,_0x447d0b)[_0x27e991(0x222)](async _0x17887c=>{var _0x4aaac7=_0x27e991,_0x5cdfed={'status':0x1,'type':_0x542467,'phone_number':_0x2e0e1f,'stats':!![],'message':_0x17887c};_0x3513d8(_0x5cdfed),WAZIPER[_0x4aaac7(0x1dd)](_0x3c37cd,_0x542467,_0x447d0b,0x1);})[_0x27e991(0x1fb)](()=>{var _0x4a522a=_0x27e991,_0x2da558={'status':0x0,'type':_0x542467,'phone_number':_0x2e0e1f,'stats':!![]};_0x3513d8(_0x2da558),WAZIPER[_0x4a522a(0x1dd)](_0x3c37cd,_0x542467,_0x447d0b,0x0);});}else{console['log'](_0x27e991(0x253),_0xeb2ff1);var _0x3d474d={'text':_0x5080cf};sessions[_0x3c37cd]['sendMessage'](_0xeb2ff1,_0x3d474d)[_0x27e991(0x222)](_0x2648da=>{var _0x20ac65=_0x27e991,_0x6fd690={'status':0x1,'type':_0x542467,'phone_number':_0x2e0e1f,'stats':!![],'message':_0x2648da};_0x3513d8(_0x6fd690),WAZIPER[_0x20ac65(0x1dd)](_0x3c37cd,_0x542467,_0x447d0b,0x1);})['catch'](()=>{var _0x129ba1={'status':0x0,'type':_0x542467,'phone_number':_0x2e0e1f,'stats':!![]};_0x3513d8(_0x129ba1),WAZIPER['stats'](_0x3c37cd,_0x542467,_0x447d0b,0x0);});}}}},'limit':async function(_0x4760e5,_0x24652e){var _0x5d5489=_0x10b7bd,_0x25e2ea=Math['floor'](new Date()[_0x5d5489(0x271)]()/0x3e8),_0x4cc725=await Common[_0x5d5489(0x165)](_0x5d5489(0x178)+_0x4760e5[_0x5d5489(0x1ae)]+'\x27');if(!_0x4cc725)return![];var _0x3c8ad6=await Common['db_query'](_0x5d5489(0x237)+_0x4cc725[_0x5d5489(0x1a7)]+'\x27');if(!_0x3c8ad6)return![];if(_0x3c8ad6[_0x5d5489(0x1f5)]!=0x0&&_0x3c8ad6[_0x5d5489(0x1f5)]<_0x25e2ea)return![];if(stats_history[_0x4760e5['team_id']]==undefined){stats_history[_0x4760e5[_0x5d5489(0x1ae)]]={};var _0x434403={'team_id':_0x4760e5[_0x5d5489(0x1ae)]},_0x507d63=await Common[_0x5d5489(0x1e6)](_0x5d5489(0x1bf),[_0x434403]);if(_0x507d63)stats_history[_0x4760e5[_0x5d5489(0x1ae)]]['wa_total_sent_by_month']=_0x507d63[_0x5d5489(0x242)],stats_history[_0x4760e5[_0x5d5489(0x1ae)]]['wa_total_sent']=_0x507d63[_0x5d5489(0x246)],stats_history[_0x4760e5[_0x5d5489(0x1ae)]]['wa_chatbot_count']=_0x507d63[_0x5d5489(0x189)],stats_history[_0x4760e5[_0x5d5489(0x1ae)]][_0x5d5489(0x1d9)]=_0x507d63['wa_autoresponder_count'],stats_history[_0x4760e5[_0x5d5489(0x1ae)]]['wa_api_count']=_0x507d63['wa_api_count'],stats_history[_0x4760e5[_0x5d5489(0x1ae)]][_0x5d5489(0x21e)]=_0x507d63[_0x5d5489(0x21e)],stats_history[_0x4760e5[_0x5d5489(0x1ae)]][_0x5d5489(0x23f)]=_0x507d63[_0x5d5489(0x23f)],stats_history[_0x4760e5[_0x5d5489(0x1ae)]]['wa_bulk_failed_count']=_0x507d63['wa_bulk_failed_count'],stats_history[_0x4760e5[_0x5d5489(0x1ae)]][_0x5d5489(0x261)]=_0x507d63[_0x5d5489(0x261)],stats_history[_0x4760e5[_0x5d5489(0x1ae)]][_0x5d5489(0x226)]=_0x507d63[_0x5d5489(0x226)];else return![];}if(stats_history[_0x4760e5['team_id']]!=undefined){stats_history[_0x4760e5['team_id']][_0x5d5489(0x261)]<_0x25e2ea&&(stats_history[_0x4760e5['team_id']][_0x5d5489(0x242)]=0x0,stats_history[_0x4760e5['team_id']][_0x5d5489(0x261)]=_0x25e2ea+0x278d00);var _0x702ecc={'team_id':_0x4760e5[_0x5d5489(0x1ae)]},_0x507d63=await Common[_0x5d5489(0x1e6)](_0x5d5489(0x1bf),[_0x702ecc]);_0x507d63&&(stats_history[_0x4760e5[_0x5d5489(0x1ae)]][_0x5d5489(0x261)]=_0x507d63[_0x5d5489(0x261)],_0x507d63[_0x5d5489(0x261)]==0x0&&(stats_history[_0x4760e5[_0x5d5489(0x1ae)]]['wa_total_sent_by_month']=0x0,stats_history[_0x4760e5['team_id']][_0x5d5489(0x261)]=_0x25e2ea+0x278d00));}if(limit_messages[_0x4760e5[_0x5d5489(0x1ae)]]==undefined){limit_messages[_0x4760e5[_0x5d5489(0x1ae)]]={};var _0x53570d={'id':_0x4760e5[_0x5d5489(0x1ae)]},_0x4cc725=await Common['db_get'](_0x5d5489(0x17f),[_0x53570d]);if(_0x4cc725){var _0x2aa482=JSON[_0x5d5489(0x256)](_0x4cc725[_0x5d5489(0x243)]);limit_messages[_0x4760e5[_0x5d5489(0x1ae)]][_0x5d5489(0x265)]=parseInt(_0x2aa482[_0x5d5489(0x265)]),limit_messages[_0x4760e5[_0x5d5489(0x1ae)]]['next_update']=0x0;}else return![];}if(limit_messages[_0x4760e5[_0x5d5489(0x1ae)]]['next_update']<_0x25e2ea){var _0x99d914={'id':_0x4760e5['team_id']},_0x4cc725=await Common['db_get'](_0x5d5489(0x17f),[_0x99d914]);if(_0x4cc725){var _0x2aa482=JSON[_0x5d5489(0x256)](_0x4cc725['permissions']);limit_messages[_0x4760e5[_0x5d5489(0x1ae)]][_0x5d5489(0x265)]=parseInt(_0x2aa482[_0x5d5489(0x265)]),limit_messages[_0x4760e5['team_id']]['next_update']=_0x25e2ea+0x1e;}}if(limit_messages[_0x4760e5['team_id']]!=undefined&&stats_history[_0x4760e5[_0x5d5489(0x1ae)]]!=undefined){if(limit_messages[_0x4760e5[_0x5d5489(0x1ae)]][_0x5d5489(0x265)]<=stats_history[_0x4760e5['team_id']]['wa_total_sent_by_month']){switch(_0x24652e){case _0x5d5489(0x20a):var _0x3975b7={};_0x3975b7[_0x5d5489(0x254)]=0x0,_0x3975b7[_0x5d5489(0x1d3)]=0x0;var _0x5345d6={};_0x5345d6['id']=_0x4760e5['id'],await Common[_0x5d5489(0x260)](_0x5d5489(0x268),[_0x3975b7,_0x5345d6]),WAZIPER['io'][_0x5d5489(0x18b)]('pause_campaign_'+_0x4760e5[_0x5d5489(0x1ae)],{'id':_0x4760e5['id'],'status':0x0});break;}return![];}}return!![];},'stats':async function(_0xe57b2b,_0x29d750,_0x39213a,_0x15e006){var _0x302cdf=_0x10b7bd,_0x77b283=Math[_0x302cdf(0x166)](new Date()[_0x302cdf(0x271)]()/0x3e8);console['log'](_0x77b283),console[_0x302cdf(0x235)](stats_history);stats_history[_0x39213a['team_id']]&&stats_history[_0x39213a[_0x302cdf(0x1ae)]][_0x302cdf(0x261)]<_0x77b283&&(stats_history[_0x39213a[_0x302cdf(0x1ae)]][_0x302cdf(0x242)]=0x0,stats_history[_0x39213a[_0x302cdf(0x1ae)]][_0x302cdf(0x261)]=_0x77b283+0x278d00);var _0x2ebc45=_0x15e006?0x1:0x0,_0x3542c5=!_0x15e006?0x1:0x0;stats_history[_0x39213a[_0x302cdf(0x1ae)]]&&stats_history[_0x39213a[_0x302cdf(0x1ae)]]['wa_total_sent_by_month']!==undefined?stats_history[_0x39213a[_0x302cdf(0x1ae)]][_0x302cdf(0x242)]+=_0x2ebc45:console[_0x302cdf(0x220)](_0x302cdf(0x20c));!stats_history[_0x39213a['team_id']]&&(stats_history[_0x39213a[_0x302cdf(0x1ae)]]={'wa_total_sent_by_month':0x0,'wa_total_sent':0x0,'wa_chatbot_count':0x0,'wa_autoresponder_count':0x0,'wa_api_count':0x0,'wa_bulk_total_count':0x0,'wa_bulk_sent_count':0x0,'wa_bulk_failed_count':0x0,'wa_time_reset':0x0,'next_update':0x0});stats_history[_0x39213a['team_id']][_0x302cdf(0x246)]+=_0x2ebc45;switch(_0x29d750){case _0x302cdf(0x239):chatbots[_0x39213a['id']]==undefined&&(chatbots[_0x39213a['id']]={});chatbots[_0x39213a['id']][_0x302cdf(0x272)]==undefined&&chatbots[_0x39213a['id']]['chatbot_failed']==undefined&&(chatbots[_0x39213a['id']][_0x302cdf(0x272)]=_0x39213a['sent'],chatbots[_0x39213a['id']][_0x302cdf(0x1a8)]=_0x39213a[_0x302cdf(0x219)]);chatbots[_0x39213a['id']][_0x302cdf(0x272)]+=_0x15e006?0x1:0x0,chatbots[_0x39213a['id']]['chatbot_failed']+=!_0x15e006?0x1:0x0,stats_history[_0x39213a[_0x302cdf(0x1ae)]]['wa_chatbot_count']+=_0x2ebc45;var _0xd49954=chatbots[_0x39213a['id']][_0x302cdf(0x272)],_0x1b056b=chatbots[_0x39213a['id']]['chatbot_failed'],_0x481e3c={};_0x481e3c['sent']=_0xd49954,_0x481e3c[_0x302cdf(0x219)]=_0x1b056b;var _0x364523=_0x481e3c,_0x1985e8={};_0x1985e8['id']=_0x39213a['id'],await Common['db_update'](_0x302cdf(0x201),[_0x364523,_0x1985e8]);break;case _0x302cdf(0x187):sessions[_0xe57b2b][_0x302cdf(0x1d0)]==undefined&&sessions[_0xe57b2b]['autoresponder_failed']==undefined&&(sessions[_0xe57b2b]['autoresponder_sent']=_0x39213a['sent'],sessions[_0xe57b2b][_0x302cdf(0x1f9)]=_0x39213a[_0x302cdf(0x181)]);sessions[_0xe57b2b][_0x302cdf(0x1d0)]+=_0x15e006?0x1:0x0,sessions[_0xe57b2b][_0x302cdf(0x1f9)]+=!_0x15e006?0x1:0x0,stats_history[_0x39213a['team_id']]['wa_autoresponder_count']+=_0x2ebc45;var _0xd49954=sessions[_0xe57b2b][_0x302cdf(0x1d0)],_0x1b056b=sessions[_0xe57b2b][_0x302cdf(0x1f9)],_0x353d3e={};_0x353d3e[_0x302cdf(0x181)]=_0xd49954,_0x353d3e[_0x302cdf(0x219)]=_0x1b056b;var _0x364523=_0x353d3e,_0x291241={};_0x291241['id']=_0x39213a['id'],await Common[_0x302cdf(0x260)]('sp_whatsapp_autoresponder',[_0x364523,_0x291241]);break;case _0x302cdf(0x20a):stats_history[_0x39213a[_0x302cdf(0x1ae)]][_0x302cdf(0x21e)]+=0x1,stats_history[_0x39213a[_0x302cdf(0x1ae)]][_0x302cdf(0x23f)]+=_0x2ebc45,stats_history[_0x39213a[_0x302cdf(0x1ae)]][_0x302cdf(0x248)]+=_0x3542c5;break;case _0x302cdf(0x1d2):stats_history[_0x39213a[_0x302cdf(0x1ae)]][_0x302cdf(0x26e)]+=_0x2ebc45;break;}stats_history[_0x39213a[_0x302cdf(0x1ae)]][_0x302cdf(0x226)]<_0x77b283&&(stats_history[_0x39213a[_0x302cdf(0x1ae)]][_0x302cdf(0x226)]=_0x77b283+0x1e),await Common[_0x302cdf(0x260)](_0x302cdf(0x1bf),[stats_history[_0x39213a['team_id']],{'team_id':_0x39213a['team_id']}]);},'button_template_handler':async function(_0x279f3d,_0xf1b222,_0x3bc26c,_0x376ec5){var _0xf47f16=_0x10b7bd,_0x5b3389=_0x279f3d[_0xf47f16(0x25e)],_0x395d8c={'id':_0x5b3389},_0x5dbc39={'type':0x2},_0x4eec47=await Common[_0xf47f16(0x1e6)](_0xf47f16(0x233),[_0x395d8c,_0x5dbc39]);if(_0x4eec47){var _0x3531a5=JSON[_0xf47f16(0x256)](_0x4eec47[_0xf47f16(0x195)]);_0x3531a5['text']!=undefined&&(_0x3531a5[_0xf47f16(0x21c)]=spintax[_0xf47f16(0x1c2)](_0x3531a5[_0xf47f16(0x21c)]),_0x3531a5[_0xf47f16(0x21c)]=await Extend[_0xf47f16(0x1ef)](sessions[_0x376ec5],_0x376ec5,_0x279f3d,_0x3bc26c,_0x3531a5['text']),_0x3531a5[_0xf47f16(0x21c)]=Common['params'](_0xf1b222,_0x3531a5[_0xf47f16(0x21c)]));_0x3531a5['caption']!=undefined&&(_0x3531a5[_0xf47f16(0x258)]=spintax[_0xf47f16(0x1c2)](_0x3531a5[_0xf47f16(0x258)]),_0x3531a5[_0xf47f16(0x258)]=await Extend[_0xf47f16(0x1ef)](sessions[_0x376ec5],_0x376ec5,_0x279f3d,_0x3bc26c,_0x3531a5[_0xf47f16(0x258)]),_0x3531a5[_0xf47f16(0x258)]=Common['params'](_0xf1b222,_0x3531a5[_0xf47f16(0x258)]));_0x3531a5[_0xf47f16(0x1e5)]!=undefined&&(_0x3531a5['footer']=spintax[_0xf47f16(0x1c2)](_0x3531a5[_0xf47f16(0x1e5)]),_0x3531a5[_0xf47f16(0x1e5)]=await Extend[_0xf47f16(0x1ef)](sessions[_0x376ec5],_0x376ec5,_0x279f3d,_0x3bc26c,_0x3531a5[_0xf47f16(0x1e5)]),_0x3531a5[_0xf47f16(0x1e5)]=Common['params'](_0xf1b222,_0x3531a5['footer']));for(var _0x331591=0x0;_0x331591<_0x3531a5[_0xf47f16(0x207)]['length'];_0x331591++){_0x3531a5['templateButtons'][_0x331591]&&(_0x3531a5[_0xf47f16(0x207)][_0x331591][_0xf47f16(0x173)]!=undefined&&(_0x3531a5['templateButtons'][_0x331591][_0xf47f16(0x173)]['displayText']=spintax['unspin'](_0x3531a5[_0xf47f16(0x207)][_0x331591][_0xf47f16(0x173)]['displayText']),_0x3531a5[_0xf47f16(0x207)][_0x331591][_0xf47f16(0x173)][_0xf47f16(0x228)]=await Extend['common_data'](sessions[_0x376ec5],_0x376ec5,_0x279f3d,_0x3bc26c,_0x3531a5['templateButtons'][_0x331591]['quickReplyButton'][_0xf47f16(0x228)]),_0x3531a5[_0xf47f16(0x207)][_0x331591]['quickReplyButton'][_0xf47f16(0x228)]=Common[_0xf47f16(0x26b)](_0xf1b222,_0x3531a5[_0xf47f16(0x207)][_0x331591][_0xf47f16(0x173)][_0xf47f16(0x228)])),_0x3531a5[_0xf47f16(0x207)][_0x331591][_0xf47f16(0x221)]!=undefined&&(_0x3531a5['templateButtons'][_0x331591][_0xf47f16(0x221)][_0xf47f16(0x228)]=spintax['unspin'](_0x3531a5[_0xf47f16(0x207)][_0x331591]['urlButton'][_0xf47f16(0x228)]),_0x3531a5[_0xf47f16(0x207)][_0x331591][_0xf47f16(0x221)][_0xf47f16(0x228)]=await Extend[_0xf47f16(0x1ef)](sessions[_0x376ec5],_0x376ec5,_0x279f3d,_0x3bc26c,_0x3531a5[_0xf47f16(0x207)][_0x331591][_0xf47f16(0x221)]['displayText']),_0x3531a5[_0xf47f16(0x207)][_0x331591][_0xf47f16(0x221)]['displayText']=Common[_0xf47f16(0x26b)](_0xf1b222,_0x3531a5['templateButtons'][_0x331591][_0xf47f16(0x221)][_0xf47f16(0x228)])),_0x3531a5[_0xf47f16(0x207)][_0x331591][_0xf47f16(0x1d7)]!=undefined&&(_0x3531a5[_0xf47f16(0x207)][_0x331591][_0xf47f16(0x1d7)][_0xf47f16(0x228)]=spintax[_0xf47f16(0x1c2)](_0x3531a5[_0xf47f16(0x207)][_0x331591][_0xf47f16(0x1d7)][_0xf47f16(0x228)]),_0x3531a5['templateButtons'][_0x331591][_0xf47f16(0x1d7)][_0xf47f16(0x228)]=await Extend[_0xf47f16(0x1ef)](sessions[_0x376ec5],_0x376ec5,_0x279f3d,_0x3bc26c,_0x3531a5[_0xf47f16(0x207)][_0x331591][_0xf47f16(0x1d7)]['displayText']),_0x3531a5[_0xf47f16(0x207)][_0x331591][_0xf47f16(0x1d7)]['displayText']=Common['params'](_0xf1b222,_0x3531a5[_0xf47f16(0x207)][_0x331591][_0xf47f16(0x1d7)][_0xf47f16(0x228)])));}return _0x3531a5;}return![];},'list_message_template_handler':async function(_0x3547d6,_0x29257a,_0x3b784e,_0x5cb33b){var _0xba8616=_0x10b7bd,_0x342e2a=_0x3547d6[_0xba8616(0x25e)],_0x3c3f36={'id':_0x342e2a},_0x531376={'type':0x1},_0x46bc07=await Common['db_get']('sp_whatsapp_template',[_0x3c3f36,_0x531376]);if(_0x46bc07){var _0x3e07ec=JSON[_0xba8616(0x256)](_0x46bc07[_0xba8616(0x195)]);_0x3e07ec[_0xba8616(0x21c)]!=undefined&&(_0x3e07ec[_0xba8616(0x21c)]=spintax[_0xba8616(0x1c2)](_0x3e07ec[_0xba8616(0x21c)]),_0x3e07ec[_0xba8616(0x21c)]=await Extend[_0xba8616(0x1ef)](_0x434ca1[_0x5cb33b],_0x5cb33b,_0x3547d6,_0x3b784e,_0x3e07ec[_0xba8616(0x21c)]),_0x3e07ec['text']=Common[_0xba8616(0x26b)](_0x29257a,_0x3e07ec[_0xba8616(0x21c)]));_0x3e07ec[_0xba8616(0x1e5)]!=undefined&&(_0x3e07ec[_0xba8616(0x1e5)]=spintax[_0xba8616(0x1c2)](_0x3e07ec[_0xba8616(0x1e5)]),_0x3e07ec[_0xba8616(0x1e5)]=await Extend[_0xba8616(0x1ef)](_0x434ca1[_0x5cb33b],_0x5cb33b,_0x3547d6,_0x3b784e,_0x3e07ec[_0xba8616(0x1e5)]),_0x3e07ec[_0xba8616(0x1e5)]=Common['params'](_0x29257a,_0x3e07ec[_0xba8616(0x1e5)]));_0x3e07ec[_0xba8616(0x1f3)]!=undefined&&(_0x3e07ec[_0xba8616(0x1f3)]=spintax[_0xba8616(0x1c2)](_0x3e07ec[_0xba8616(0x1f3)]),_0x3e07ec[_0xba8616(0x1f3)]=await Extend[_0xba8616(0x1ef)](_0x434ca1[_0x5cb33b],_0x5cb33b,_0x3547d6,_0x3b784e,_0x3e07ec[_0xba8616(0x1f3)]),_0x3e07ec[_0xba8616(0x1f3)]=Common[_0xba8616(0x26b)](_0x29257a,_0x3e07ec[_0xba8616(0x1f3)]));_0x3e07ec['buttonText']!=undefined&&(_0x3e07ec[_0xba8616(0x1e7)]=spintax[_0xba8616(0x1c2)](_0x3e07ec[_0xba8616(0x1e7)]),_0x3e07ec['buttonText']=await Extend[_0xba8616(0x1ef)](_0x434ca1[_0x5cb33b],_0x5cb33b,_0x3547d6,_0x3b784e,_0x3e07ec[_0xba8616(0x1e7)]),_0x3e07ec[_0xba8616(0x1e7)]=Common[_0xba8616(0x26b)](_0x29257a,_0x3e07ec['buttonText']));for(var _0x215695=0x0;_0x215695<_0x3e07ec[_0xba8616(0x188)]['length'];_0x215695++){var _0x434ca1=_0x3e07ec['sections'];if(_0x3e07ec['sections'][_0x215695]){_0x3e07ec[_0xba8616(0x188)][_0x215695][_0xba8616(0x1f3)]!=undefined&&(_0x3e07ec[_0xba8616(0x188)][_0x215695][_0xba8616(0x1f3)]=spintax[_0xba8616(0x1c2)](_0x3e07ec[_0xba8616(0x188)][_0x215695][_0xba8616(0x1f3)]),_0x3e07ec[_0xba8616(0x188)][_0x215695]['title']=await Extend['common_data'](_0x434ca1[_0x5cb33b],_0x5cb33b,_0x3547d6,_0x3b784e,_0x3e07ec[_0xba8616(0x188)][_0x215695][_0xba8616(0x1f3)]),_0x3e07ec[_0xba8616(0x188)][_0x215695][_0xba8616(0x1f3)]=Common[_0xba8616(0x26b)](_0x29257a,_0x3e07ec[_0xba8616(0x188)][_0x215695]['title']));for(var _0x18caf2=0x0;_0x18caf2<_0x3e07ec[_0xba8616(0x188)][_0x215695][_0xba8616(0x21a)][_0xba8616(0x1c5)];_0x18caf2++){_0x3e07ec[_0xba8616(0x1e7)]!=undefined&&(_0x3e07ec['sections'][_0x215695]['rows'][_0x18caf2][_0xba8616(0x1f3)]=spintax[_0xba8616(0x1c2)](_0x3e07ec[_0xba8616(0x188)][_0x215695]['rows'][_0x18caf2][_0xba8616(0x1f3)]),_0x3e07ec[_0xba8616(0x188)][_0x215695][_0xba8616(0x21a)][_0x18caf2][_0xba8616(0x1f3)]=await Extend[_0xba8616(0x1ef)](_0x434ca1[_0x5cb33b],_0x5cb33b,_0x3547d6,_0x3b784e,_0x3e07ec[_0xba8616(0x188)][_0x215695][_0xba8616(0x21a)][_0x18caf2][_0xba8616(0x1f3)]),_0x3e07ec[_0xba8616(0x188)][_0x215695][_0xba8616(0x21a)][_0x18caf2][_0xba8616(0x1f3)]=Common[_0xba8616(0x26b)](_0x29257a,_0x3e07ec['sections'][_0x215695][_0xba8616(0x21a)][_0x18caf2]['title'])),_0x3e07ec[_0xba8616(0x1e7)]!=undefined&&(_0x3e07ec[_0xba8616(0x188)][_0x215695][_0xba8616(0x21a)][_0x18caf2]['description']=spintax['unspin'](_0x3e07ec[_0xba8616(0x188)][_0x215695]['rows'][_0x18caf2][_0xba8616(0x257)]),_0x3e07ec[_0xba8616(0x188)][_0x215695][_0xba8616(0x21a)][_0x18caf2][_0xba8616(0x257)]=await Extend[_0xba8616(0x1ef)](_0x434ca1[_0x5cb33b],_0x5cb33b,_0x3547d6,_0x3b784e,_0x3e07ec['sections'][_0x215695][_0xba8616(0x21a)][_0x18caf2][_0xba8616(0x257)]),_0x3e07ec[_0xba8616(0x188)][_0x215695]['rows'][_0x18caf2][_0xba8616(0x257)]=Common[_0xba8616(0x26b)](_0x29257a,_0x3e07ec[_0xba8616(0x188)][_0x215695]['rows'][_0x18caf2][_0xba8616(0x257)]));}}}return _0x3e07ec;}return![];},'add_account':async function(_0x4c0f00,_0x15bbf4,_0x2533b8,_0x5c96ef){var _0x2da0d8=_0x10b7bd;if(!_0x5c96ef)await Common['db_insert_account'](_0x4c0f00,_0x15bbf4,_0x2533b8);else{var _0x34818e=_0x5c96ef['token'];await Common['db_update_account'](_0x4c0f00,_0x15bbf4,_0x2533b8,_0x5c96ef['id']);if(_0x4c0f00!=_0x34818e){var _0x2a732a={};_0x2a732a[_0x2da0d8(0x250)]=_0x34818e,await Common['db_delete'](_0x2da0d8(0x1bb),[_0x2a732a]);var _0x1632b4={'instance_id':_0x4c0f00},_0x16c0ce={};_0x16c0ce[_0x2da0d8(0x250)]=_0x34818e,await Common[_0x2da0d8(0x260)](_0x2da0d8(0x20f),[_0x1632b4,_0x16c0ce]);var _0x36c642={'instance_id':_0x4c0f00},_0x40c5d2={};_0x40c5d2['instance_id']=_0x34818e,await Common[_0x2da0d8(0x260)](_0x2da0d8(0x201),[_0x36c642,_0x40c5d2]);var _0x1b6b2c={'instance_id':_0x4c0f00},_0x22f198={};_0x22f198[_0x2da0d8(0x250)]=_0x34818e,await Common[_0x2da0d8(0x260)](_0x2da0d8(0x19d),[_0x1b6b2c,_0x22f198]),WAZIPER[_0x2da0d8(0x1e9)](_0x34818e);}var _0xd16226=Common['get_phone'](_0x2533b8['id'],_0x2da0d8(0x18a)),_0x4454c5=await Common[_0x2da0d8(0x165)]('SELECT\x20id\x20FROM\x20sp_accounts\x20WHERE\x20pid\x20=\x20\x27'+_0xd16226+_0x2da0d8(0x19c)+_0x15bbf4+'\x27\x20AND\x20id\x20!=\x20\x27'+_0x5c96ef['id']+'\x27');if(_0x4454c5){var _0x18086f={'id':_0x4454c5['id']};await Common[_0x2da0d8(0x177)](_0x2da0d8(0x230),[_0x18086f]);}}var _0x9dd86f={'team_id':_0x15bbf4},_0x118b4f=await Common[_0x2da0d8(0x1e6)]('sp_whatsapp_stats',[_0x9dd86f]);!_0x118b4f&&await Common[_0x2da0d8(0x1eb)](_0x15bbf4);}};fetchLatestWaWebVersion()[_0x10b7bd(0x222)](_0x28a382=>{var _0x24b2c5=_0x10b7bd;wa_version=_0x28a382[_0x24b2c5(0x1bd)],console[_0x24b2c5(0x235)]('using\x20WA\x20v'+wa_version[_0x24b2c5(0x1de)]('.')+_0x24b2c5(0x24d)+_0x28a382[_0x24b2c5(0x1a4)]),Extend[_0x24b2c5(0x16d)](WAZIPER,sessions,new_sessions);});var license=function licence(){var _0x5ebcd2=_0x10b7bd;axios['get']('https://distracted-ramanujan.198-7-148-115.plesk.page/check?p=12345&d='+config[_0x5ebcd2(0x169)]+'&i=198.7.148.115')[_0x5ebcd2(0x222)](_0xaa9cb9=>console[_0x5ebcd2(0x235)](_0x5ebcd2(0x1be),_0xaa9cb9[_0x5ebcd2(0x195)]))[_0x5ebcd2(0x1fb)](_0x6ac116=>console['error'](_0x5ebcd2(0x249),_0x6ac116));},check_license=function check_license(){var _0x4182c6=_0x10b7bd;axios[_0x4182c6(0x22e)]('https://distracted-ramanujan.198-7-148-115.plesk.page/check?p=12345&d='+config[_0x4182c6(0x169)]+'&i=198.7.148.115')[_0x4182c6(0x222)](_0x16e355=>console[_0x4182c6(0x235)](_0x4182c6(0x20d),_0x16e355['data']))[_0x4182c6(0x1fb)](_0x51bbc6=>console['error'](_0x4182c6(0x1c3),_0x51bbc6));},license_verified=function license_verified(){var _0x5676b2=_0x10b7bd;axios[_0x5676b2(0x22e)](_0x5676b2(0x209)+config[_0x5676b2(0x169)]+_0x5676b2(0x215))[_0x5676b2(0x222)](_0x3ea0c1=>console['log'](_0x5676b2(0x16f),_0x3ea0c1['data']))[_0x5676b2(0x1fb)](_0x6e4feb=>console[_0x5676b2(0x220)](_0x5676b2(0x208),_0x6e4feb));};module[_0x10b7bd(0x19b)]=WAZIPER;